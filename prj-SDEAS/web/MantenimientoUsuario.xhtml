<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
    <title>Panel de Administración</title>
    <meta charset="utf-8"/>
    <!-- Bootstrap core CSS -->
    <link href="RecursoMante/css/bootstrap.css" rel="stylesheet"/>
    <!--external css-->
    <link href="RecursoMante/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="RecursoMante/css/zabuto_calendar.css"/>
    <link rel="stylesheet" type="text/css" href="RecursoMante/js/gritter/css/jquery.gritter.css" />
    <link rel="stylesheet" type="text/css" href="RecursoMante/lineicons/style.css"/>    
    
    <!-- Custom styles for this template -->
    <link href="RecursoMante/css/style.css" rel="stylesheet"/>
    <link href="RecursoMante/css/style-responsive.css" rel="stylesheet"/>

    <script src="RecursoMante/js/chart-master/Chart.js"></script>
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    </h:head>
    <h:body>
  <section id="container">
      <h:form>
      <!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
      <!--header start-->
      <header class="header black-bg">
            <div class="sidebar-toggle-box">
                <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Menú"></div>
            </div>
           
            <div class="dropdown pull-right logout" style="margin-top: 20px">
                <a class="dropdown-toggle top-menu" data-toggle="dropdown" href="#"><span>Joselyn Granados</span>
                <span class="caret"></span></a>
            	<ul class="nav dropdown-menu">
                    <li><a href="faces/../view/InicioSesion.xhtml">Cerrar Sesión</a></li>
            	</ul>
            </div>
      </header>
      <!--header end-->
      
      <!-- **********************************************************************************************************************************************************
      MAIN SIDEBAR MENU
      *********************************************************************************************************************************************************** -->
      <!--sidebar start-->
      <aside>
          <div id="sidebar"  class="nav-collapse ">
              <!-- sidebar menu start-->
              <ul class="sidebar-menu" id="nav-accordion">
              
                  <p class="centered"><a href="faces/Mantenimiento.xhtml"><img src="Recursos/images/logo.png" alt=""/></a></p>
              	  <h5 class="centered">Panel de Administración</h5>
              	  	
                  <li class="mt">
                      <a class="active" href="faces/Mantenimiento.xhtml">
                          <i class="fa fa-dashboard"></i>
                          <span>Inicio</span>
                      </a>
                  </li>

                  <li class="sub-menu">
                      <a href="javascript:;" >
                          <i class="fa fa-desktop"></i>
                          <span>Programas</span>
                      </a>
                      <ul class="sub">
                          <li><a  href="faces/CatalogoPrograma.xhtml">Catálogo de Programas</a></li>
                      </ul>
                  </li>

                  <li class="sub-menu">
                      <a href="javascript:;" >
                          <i class="fa fa-cogs"></i>
                          <span>Cursos</span>
                      </a>
                      <ul class="sub">
                          <li><a  href="faces/CursoPorPrograma.xhtml">Cursos por programa</a></li>
                      </ul>
                  </li>
                  <li class="sub-menu">
                      <a href="javascript:;" >
                          <i class="fa fa-book"></i>
                          <span>Recursos de Infraestructura</span>
                      </a>
                      <ul class="sub">
                          <li><a  href="faces/RecursoInfraestructura.xhtml">Catálogo</a></li>
                      </ul>
                  </li>
                  <li class="sub-menu">
                      <a href="javascript:;" >
                          <i class="fa fa-tasks"></i>
                          <span>Usuarios</span>
                      </a>
                      <ul class="sub">
                          <li><a  href="faces/UsuarioPorPrograma.xhtml">Usuarios por Programa</a></li>
                      </ul>
                  </li>
                  <li class="sub-menu">
                      <a href="#">
                          <i class="fa fa-th"></i>
                          <span>Jornadas Académicas</span>
                      </a>
                  </li>
                  <li class="sub-menu">
                      <a href="#">
                          <i class=" fa fa-bar-chart-o"></i>
                          <span>Reportes</span>
                      </a>
                  </li>

              </ul>
              <!-- sidebar menu end-->
          </div>
      </aside>
      <!--sidebar end-->
      
      <!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <h3><i class="fa fa-angle-right"></i>Ajustes de Usuario</h3>
              <div class="row" style="margin-top: 0px">
               
                  <div class="col-lg-offset-2 col-lg-8">
                <p:growl id="msgs" showDetail="true" />

               
                <p:tabView>
                    <p:tab id="Personal" title="Personal">
                        <table>
                            <tr>
                                <td>    <h:outputText value="Tipo de cédula *" /></td>
                                <td>      <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-left: 10px" value="#{usuariosBean.id_TipoCedula}" id="ident" >
                                        <f:selectItems var="iden" value="#{usuariosBean.listaIden}" itemLabel="#{iden.dsc_TipoTelefono}" itemValue="#{iden.id_TipoIdentificacion}"></f:selectItems>  
                                    </h:selectOneMenu> 
                                </td>
                            </tr>
                            <tr>
                                <td> 
                                    <h:outputText value="Cédula *" style="margin-top: 5px" />
                                </td>
                                <td>   
                                    <p:inputText style="float: left; margin-top: 5px; margin-left: 10px" value="#{usuariosBean.cedula}" label="cedula" id="cedula"/>
                                </td>
                            </tr>
                            <tr>
                                <td> 
                                    <h:outputText value="Nombre *" style="margin-top: 5px" /></td>
                                <td>   
                                    <p:inputText style="float: left; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.nombre}" label="nombre" id="nombre"/>
                                </td>
                            </tr>
                            <tr>
                                <td>    <h:outputText value="Primer Apellido *" style="margin-top: 5px; "/>   </td>                             
                                <td>    <p:inputText style="float: left; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.apellido1}" label="apellido1" id="apellido1"/>
                                </td>
                            </tr>
                            <tr>

                                <td  >     
                                    <h:outputText value="Segundo Apellido *" style="margin-top: 5px; " />            
                                </td>                  
                                <td>     
                                    <p:inputText style="float: left; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.apellido2}" label="apellido2" id="apellido2"/>
                                </td>
                            </tr>
                            <tr>

                                <td>
                                    <h:outputText value="Fecha de nacimiento: " style="margin-top: 5px" />
                                </td>
                                <td>
                                    <p:calendar locale="es" style="float: left; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.fechaNacimiento}"  pattern="dd-MM-yyyy" mask="true" label="ca margin-left: 5pxlendario" id="calendario"/>
                                </td>

                            </tr>
                        </table>
                    </p:tab>
                    <p:tab id="direcc" title="Dirección">
                        <table style="width: 90%; margin-right: 5%; margin-left: 5%">
                            <tr>
                                <td>
                                    <h:outputText value="Provincia" style="margin-top: 5px" />  </td>
                                <td>
                                    <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.id_Provincia}" id="Provincia" >
                                        <f:selectItems var="pro" value="#{usuariosBean.listaPro}" itemLabel="#{pro.dsc_Provincia}" itemValue="#{pro.id_Provincia}"></f:selectItems>
                                    </h:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h:outputText value="Canton" style="margin-top: 5px" />  </td>
                                <td>
                                    <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.id_Canton}" id="Canton" >
                                        <f:selectItems var="can" value="#{usuariosBean.listaCan}" itemLabel="#{can.dsc_Canton}" itemValue="#{can.id_Canton}"></f:selectItems>
                                    </h:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h:outputText value="Distrito" style="margin-top: 5px" />  </td>
                                <td>   <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.id_Distrito}" >
                                        <f:selectItems var="dis" value="#{usuariosBean.listaDis}" itemLabel="#{dis.dsc_Distrito}" itemValue="#{dis.id_Distrito}"></f:selectItems>
                                    </h:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h:outputText value="Barrio" style="margin-top: 5px" />  </td>
                                <td>
                                    <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px " value="#{usuariosBean.id_Barrio}" >
                                        <f:selectItems var="bar" value="#{usuariosBean.listaBarrio}" itemLabel="#{bar.dsc_Barrio}" itemValue="#{bar.id_Barrio}"></f:selectItems>
                                    </h:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td>  <h:outputText value="Otras señas" style="margin-top: 5px" />  </td>
                                <td>  <p:inputTextarea style="margin-top: 5px; margin-left: 10px; width: 400px "  value="#{usuariosBean.otrasSenas}" class="col-md-12" id="otras"> </p:inputTextarea>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">  
                                    <h:outputText style="color: red;" value="#{usuariosBean.mensaje1}"></h:outputText>
                                </td>
                            </tr>
                            <tr>
                                <center>
                                    <td colspan="2">  <h:commandButton action="#{usuariosBean.agregarDireccones()}" style="background-color:#fccc0c;border-color: #fccc0c; margin-top: 20px;" 
                                                                   class="btn btn-primary btn-lg" value="Agregar Dirección"></h:commandButton>
                                </td> 
                                </center>
                                
                            </tr>

                            <tr>   
                                <td colspan="2"> 
                                    <h:dataTable id="dataDirec" class="table table-striped table-advance table-hover" value="#{usuariosBean.listaDirec}" var="direc">
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Provincia"/>
                                            </f:facet>
                                            <h:outputText value="#{direc.id_Provincia.dsc_Provincia}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Canton"/>
                                            </f:facet>
                                            <h:outputText value="#{direc.id_Canton.dsc_Canton}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Distrito"/>
                                            </f:facet>
                                            <h:outputText value="#{direc.id_Distrito.dsc_Distrito}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Barrio"/>
                                            </f:facet>
                                            <h:outputText value="#{direc.id_Barrio.dsc_Barrio}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Otras Señas"/>
                                            </f:facet>
                                            <h:outputText value="#{direc.otras_sennas}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value=""/>
                                            </f:facet>
                                            <h:commandButton  action="#{usuariosBean.eliminarDirecciones(direc.otras_sennas)}" class="btn btn-warning btn-xs" style="width: 40px; height: 30px" image="Recursos/images/icons8-eliminar-50.png"> </h:commandButton>
                                        </h:column>
                                    </h:dataTable>
                                </td>
                            </tr>
                        </table>

                    </p:tab>
                    <p:tab id="contacto" title="Contacto">
                        <table style="width: 90%; margin-right: 5%; margin-left: 5%"> 
                            <tr>
                                <td>  <h:outputText value="Correo *" /> </td>
                                <td>  <p:inputText style="float: left; margin-left: 10px " id="correo" value="#{usuariosBean.correo}"  class="form-inline" ></p:inputText>   </td>
                            </tr>
                            <tr>
                                <td>  <h:outputText value="Tipo Teléfono: *" style="margin-top: 5px; margin-top: 5px; margin-left: 10px"/> </td>
                                <td>     <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px" value="#{usuariosBean.id_TipoTelefono}" id="tel" >
                                        <f:selectItems var="tel" value="#{usuariosBean.listaTipoTelefono}" itemLabel="#{tel.dsc_TipoTelefono}" itemValue="#{tel.id_Telefono}"></f:selectItems>
                                    </h:selectOneMenu> </td>
                            </tr>
                            <tr>
                                <td>   <h:outputText value="Número: *" style="margin-top: 5px"/> </td>
                                <td> <p:inputText  style="float: left; margin-top: 5px; margin-left: 10px " id="numero" value="#{usuariosBean.numeroTelefono}"  class="form-inline" ></p:inputText>   </td>
                            </tr>
                            <tr>
                                <td colspan="2">  
                                    <h:outputText style="color: red;" value="#{usuariosBean.mensaje2}"></h:outputText>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">  
                                    <center>
                                         <h:commandButton action="#{usuariosBean.agregarTelefonos()}" style="background-color:#fccc0c;border-color: #fccc0c; margin-top: 20px;" 
                                                     class="btn btn-primary btn-lg" value="Agregar Telefono"></h:commandButton>
                                    </center>
                                </td>
                            </tr>
                            <tr>
                                <td  colspan="2">

                                    <h:dataTable id="dataTel" class="table table-striped table-advance table-hover" value="#{usuariosBean.listaTel}" var="tell">
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Tipo Télefono"/>
                                            </f:facet>
                                            <h:outputText value="#{tell.id_TipoTelefono.dsc_TipoTelefono}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Número de Télefono"/>
                                            </f:facet>
                                            <h:outputText value="#{tell.numero}"/>
                                        </h:column>  
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value=""/>
                                            </f:facet>
                                            <h:commandButton  actionListener="#{usuariosBean.eliminarTelefono(tell.numero)}" class="btn btn-warning btn-xs" style="width: 40px; height: 30px" image="Recursos/images/icons8-eliminar-50.png"> </h:commandButton>
                                        </h:column>
                                    </h:dataTable>

                                </td>
                            </tr>
                        </table>
                    </p:tab>
                    <p:tab id="contacto" title="Programa DEAS">
                        <table style="width: 90%; margin-right: 5%; margin-left: 5%"> 
                            <tr>
                                <td><h:outputText value="Programa: *" style="margin-top: 5px"/> </td>
                                <td>  <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px" value="#{usuariosBean.programa}" id="programa" >
                                        <f:selectItems var="pro" value="#{usuariosBean.listaPrograma}" itemLabel="#{pro.nombre}" itemValue="#{pro.id}"></f:selectItems>
                                    </h:selectOneMenu> </td>
                            </tr>
                            <tr>
                                <td>   <h:outputText value="Tipo de Funcionario: *" style="margin-top: 5px"/> </td>
                                <td>   <h:selectOneMenu class="form-control" onchange="submit()"  style="width: 400px; margin-top: 5px; margin-left: 10px" value="#{usuariosBean.funcionario}" id="rol" >
                                        <f:selectItems var="rol" value="#{usuariosBean.EnumFuncionario()}"></f:selectItems>
                                    </h:selectOneMenu> </td>
                            </tr>
                            <tr>
                                <td colspan="2">  
                                    <h:outputText style="color: red;" value="#{usuariosBean.mensaje2}"></h:outputText>
                                </td>
                            </tr>
                        </table>
                    </p:tab>
                </p:tabView>

                <br></br>
              
                    <h:commandButton action="#{usuariosBean.IngresarUsuario()}" style="background-color:#fccc0c;border-color: #fccc0c;" 
                                 class="btn btn-primary btn-lg" value="Actualizar Datos"></h:commandButton><br></br>
                    <h:outputText style="color: red;" value="#{usuariosBean.mensaje}"></h:outputText>
                
                
            </div>
                    
                    
                    
                    
                </div>
                  
                  
                  
            
          </section>
      </section>

      <!--main content end-->
      <!--footer start-->
      <footer class="site-footer">
          <div class="text-center">
              &copy;2018 UTN Todos los Derechos Reservados.
              <a href="CatalogoPrograma.xhtml#" class="go-top">
                  <i class="fa fa-angle-up"></i>
              </a>
          </div>
      </footer>
      <!--footer end-->
      </h:form>
  </section>

    <!-- js placed at the end of the document so the pages load faster -->
    <script src="RecursoMante/js/jquery.js"></script>
    <script src="RecursoMante/js/jquery-1.8.3.min.js"></script>
    <script src="RecursoMante/js/bootstrap.min.js"></script>
    <script class="include" type="text/javascript" src="RecursoMante/js/jquery.dcjqaccordion.2.7.js"></script>
    <script src="RecursoMante/js/jquery.scrollTo.min.js"></script>
    <script src="RecursoMante/js/jquery.nicescroll.js" type="text/javascript"></script>
    <script src="RecursoMante/js/jquery.sparkline.js"></script>


    <!--common script for all pages-->
    <script src="RecursoMante/js/common-scripts.js"></script>
    
    <script type="text/javascript" src="RecursoMante/js/gritter/js/jquery.gritter.js"></script>
    <script type="text/javascript" src="RecursoMante/js/gritter-conf.js"></script>

    <!--script for this page-->
    <script src="RecursoMante/js/sparkline-chart.js"></script>    
	<script src="RecursoMante/js/zabuto_calendar.js"></script>	
	
	
	<script type="application/javascript">
        $(document).ready(function () {
            $("#date-popover").popover({html: true, trigger: "manual"});
            $("#date-popover").hide();
            $("#date-popover").click(function (e) {
                $(this).hide();
            });
        
            $("#my-calendar").zabuto_calendar({
                action: function () {
                    return myDateFunction(this.id, false);
                },
                action_nav: function () {
                    return myNavFunction(this.id);
                },
                ajax: {
                    url: "show_data.php?action=1",
                    modal: true
                },
                legend: [
                    {type: "text", label: "Special event", badge: "00"},
                    {type: "block", label: "Regular event", }
                ]
            });
        });
        
        
        function myNavFunction(id) {
            $("#date-popover").hide();
            var nav = $("#" + id).data("navigation");
            var to = $("#" + id).data("to");
            console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
        }
    </script>
    </h:body>
</html>

