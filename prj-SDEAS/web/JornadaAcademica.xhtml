<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Jornada Académica</title>
        <meta charset="utf-8"/>
        <!-- Bootstrap core CSS -->
        <link href="RecursoMante/css/bootstrap.css" rel="stylesheet"/>
        <!--external css-->
        <link href="RecursoMante/font-awesome/css/font-awesome.css" rel="stylesheet" />
        <link rel="stylesheet" type="text/css" href="RecursoMante/css/zabuto_calendar.css"/>
        <link rel="stylesheet" type="text/css" href="RecursoMante/js/gritter/css/jquery.gritter.css" />
        <link rel="stylesheet" type="text/css" href="RecursoMante/lineicons/style.css"/>    

        <!-- Custom styles for this template -->
        <link href="RecursoMante/css/style.css" rel="stylesheet"/>
        <link href="RecursoMante/css/style-responsive.css" rel="stylesheet"/>

        <script src="RecursoMante/js/chart-master/Chart.js"></script>

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </h:head>
    <h:body>
        <section id="container">
            <h:form id="myForm">
                <!-- **********************************************************************************************************************************************************
                TOP BAR CONTENT & NOTIFICATIONS
                *********************************************************************************************************************************************************** -->
                <!--header start-->
                <header class="header black-bg">
                    <div class="sidebar-toggle-box">
                        <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Menú"></div>
                    </div>

                    <div class="dropdown pull-right logout" style="margin-top: 20px">
                        <a class="dropdown-toggle top-menu" data-toggle="dropdown" href="#"><span>Joselyn Granados</span>
                            <span class="caret"></span></a>
                        <ul class="nav dropdown-menu">
                            <li><h:commandLink actionListener="#{indexBean.cerrarSesion()}" value="Cerrar Sesión"></h:commandLink></li>
                        </ul>
                    </div>
                </header>
                <!--header end-->


                <!-- **********************************************************************************************************************************************************
                MAIN SIDEBAR MENU
                *********************************************************************************************************************************************************** -->
                <!--sidebar start-->
                <aside>
                    <div id="sidebar">
                        <!-- sidebar menu start-->
                        <ul class="sidebar-menu">

                            <p class="centered"><a href="faces/Mantenimiento.xhtml"><img src="Recursos/images/logo.png" alt=""/></a></p>
                            <h5 class="centered">Panel de Administración</h5>

                            <li class="mt">
                                <a class="active" href="faces/Mantenimiento.xhtml">
                                    <i class="fa fa-dashboard"></i>
                                    <span>Inicio</span>
                                </a>
                            </li>

                            <li class="sub-menu" >
                                <a href="faces/CatalogoPrograma.xhtml" >
                                    <i class="fa fa-desktop"></i>
                                    <span>Catálogo Programas</span>
                                </a>
                            </li>

                            <li class="sub-menu">
                                <a href="faces/CursoPorPrograma.xhtml" >
                                    <i class="fa fa-cogs"></i>
                                    <span>Cursos por programa</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="faces/RecursoInfraestructura.xhtml" >
                                    <i class="fa fa-book"></i>
                                    <span>Recursos de Infraestructura</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="faces/UsuarioPorPrograma.xhtml">
                                    <i class="fa fa-tasks"></i>
                                    <span>Usuarios por Programa</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="faces/JornadaAcademica.xhtml">
                                    <i class="fa fa-th"></i>
                                    <span>Jornadas Académicas</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="reporteOutlook.xhtml">
                                    <i class=" fa fa-bar-chart-o"></i>
                                    <span>Reportes Resumen</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="ReportePorFuncionario.xlsx"  target="_blank">
                                    <i class=" fa fa-bar-chart-o"></i>
                                    <span>Reportes por Funci.</span>
                                </a>
                            </li>

                        </ul>
                        <!-- sidebar menu end-->
                    </div>
                </aside>
                <!--sidebar end-->

                <!-- **********************************************************************************************************************************************************
                MAIN CONTENT
                *********************************************************************************************************************************************************** -->

                <p:sidebar widgetVar="sidebar2" position="right" baseZIndex="10000" style="width: 300px" >
                <p:scrollPanel mode="native" style="width:100%;height:100%; padding: 5px; border:0px; margin-bottom: 50px" > 
                    <h1 style="font-weight:normal">Ayuda</h1>          
                    <br></br>
                        <strong>¿Desea agregar una jornada un prestamo? </strong>
                    <br></br>
                    Llene los datos de Fecha Inicio, Fecha Final, Hora Inicio,Hora Final, seleccione los dias deseados, agregue los recursos que desea pedir y llenar el dato de observaciones. 
                    Luego, clic sobre el  <br></br> botón &#8594;
                    <img src="RecursosMante/img/btnGuardar" style="width:100px ;height:60px" alt=""/>
                    <br></br>
                    <br></br>
                    <strong>¿Desea agregar Recursos? </strong>
                    <br></br>  
                    Seleccione el recurso deseado del combo Recurso.
                    Luego,Clic sobre el  <br></br> botón &#8594;
                    <img src="Recursos/images//AgregarRecurso.JPG" style="width:100px ;height:60px" alt=""/>
                    <br></br>
                    <br></br>   
                    <strong>¿Quiere crear una nueva jornada? </strong>
                    Clic sobre el <br></br> botón &#8594;
                     <img src="RecursosMante/img/btnNuevo" style="width:100px ;height:60px" alt=""/>
                    <div style="margin-bottom: 30px; height: 50px"></div>
                </p:scrollPanel>
            </p:sidebar>

                <section id="main-content">
                    <section class="wrapper">
                        <h3><i class="fa fa-angle-right"></i> Jornada Académica</h3>
                        <div class="row mtbox" style="margin-top: 0px">
                            <div class="col-lg-12 main-chart">
                                <div class="panel panel-default">
                                    <div class="panel-heading" >
                                        <span>Información del Programa</span>
                                        <a onclick="PF('sidebar2').show()" href="#" title="Ayuda" style="margin-top: 0px; margin-bottom: 5px" ><img align="right"  width="20px" height="20px" src="RecursoMante/img/ayuda.png" alt=""/></a>
                                    </div>
                                    <div class="panel-body">

                                        <table style="width: 90%; margin-right: 5%; margin-left: 5%">  
                                            <tr>
                                                <td colspan="8">
                                                    <h:outputText value="Nombre* " style="margin-top: 5px" />                                        

                                                    <p:inputText  class="form-control "  style="width: 90%" value="#{jornadaAcademicaBean.nombreJornada}"></p:inputText>

                                                </td>

                                            </tr>
                                            <tr>
                                                <td colspan="8">
                                                    <h:outputText value="Descripción* " style="margin-top: 5px" />                                        

                                                    <p:inputTextarea  class="form-control "  style="width: 90%" value="#{jornadaAcademicaBean.descripcion}"></p:inputTextarea>

                                                </td>

                                            </tr>
                                            <tr>
                                                <td colspan="2">
                                                    <p:outputLabel value="Fecha de Inicio* " style="margin-top: 5px" />
                                                </td>
                                                <td colspan="2">
                                                    <p:calendar locale="es" style="width: 200px;float: left; margin-top: 5px; margin-left: 10px " value="#{jornadaAcademicaBean.fechaInicio}"  pattern="dd-MM-yyyy" mask="true" label="ca margin-left: 5pxlendario" id="calendario"/>
                                                </td>
                                                <td colspan="2">
                                                    <p:outputLabel value="Hora de Inicio* " style="margin-top: 5px" />
                                                </td>
                                                <td colspan="2">
                                                    <p:calendar  locale="es"  id="time" value="#{jornadaAcademicaBean.horaInicio}" pattern="HH:mm" mask="true" timeOnly="true"  />
                                                </td>                               

                                            </tr>
                                            <tr>
                                                <td colspan="2">
                                                    <p:outputLabel value="Fecha de Final* " style="margin-top: 5px" />
                                                </td>
                                                <td colspan="2">
                                                    <p:calendar locale="es" style="width: 200px;float: left; margin-top: 5px; margin-left: 10px " value="#{jornadaAcademicaBean.fechaFinal}"  pattern="dd-MM-yyyy" mask="true" label="ca margin-left: 5pxlendario" id="calendario1"/>
                                                </td>
                                                <td colspan="2">
                                                    <p:outputLabel value="Hora de Final* " style="margin-top: 5px" />
                                                </td>
                                                <td colspan="2">
                                                    <p:calendar  locale="es"  id="time1" value="#{jornadaAcademicaBean.horaFinal}" pattern="HH:mm" mask="true" timeOnly="true"  />
                                                </td>

                                            </tr>
                                            <tr>
                                                <td colspan="8">
                                                    <p:outputLabel value="Días a utilizar: " style="margin-top: 5px" />
                                                </td>    
                                            </tr>                                
                                            <tr>
                                                <td colspan="8">
                                                    <center>
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.lunes}" label="" >Lunes  </p:selectBooleanCheckbox> 
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.martes}" label = "Basic" >  Martes  </p:selectBooleanCheckbox> 
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.miercoles}" label = "Basic" >  Miércoles  </p:selectBooleanCheckbox>  
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.jueves}" label = "Basic" >  Jueves  </p:selectBooleanCheckbox>  
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.viernes}" label = "Basic" >  Viernes  </p:selectBooleanCheckbox>  
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.sabado}" label = "Basic" >  Sabado  </p:selectBooleanCheckbox> 
                                                        <p:selectBooleanCheckbox value = "#{jornadaAcademicaBean.domingo}" label = "Basic" >  Domingo  </p:selectBooleanCheckbox>  
                                                    </center>
                                                </td>
                                            </tr>

                                            <tr >
                                                <td colspan="4" >
                                                    <br></br>
                                                    <p:outputLabel>Progrma*</p:outputLabel>    

                                                    <br></br>
                                                    <h:selectOneMenu class="form-control" style="width: 250px;" value="#{jornadaAcademicaBean.programa}" id="Programa" >
                                                        <f:selectItems var="pro" value="#{jornadaAcademicaBean.listaPrograma}" itemLabel="#{pro.nombre}" itemValue="#{pro.id}"></f:selectItems>
                                                    </h:selectOneMenu>
                                                </td> 
                                            </tr>
                                            <tr>
                                                <td colspan="4" >
                                                    <br></br>
                                                    <p:outputLabel>Curso*</p:outputLabel>    

                                                    <br></br>
                                                    <h:selectOneMenu class="form-control" style="width: 250px;" value="#{jornadaAcademicaBean.curso}" id="Canton" >
                                                        <f:selectItems var="cur" value="#{jornadaAcademicaBean.listaCurso}" itemLabel="#{cur.nombre}" itemValue="#{cur.id}"></f:selectItems>
                                                    </h:selectOneMenu>
                                                </td> 
                                            </tr> 
                                            <tr>
                                                <td colspan="2"> <p:outputLabel>Estado:</p:outputLabel></td>
                                                <td colspan="2">
                                                    <p:selectOneRadio  layout="pageDirection" value="#{jornadaAcademicaBean.estado}" >
                                                        <f:selectItem  itemValue="Activo" itemLabel=" &nbsp;Activo" ></f:selectItem>
                                                        <f:selectItem  itemValue="Inactivo" itemLabel=" &nbsp;Inactivo"></f:selectItem>
                                                    </p:selectOneRadio>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td colspan="8">
                                                <center>
                                                    <h:commandButton class="btn btn-primary" actionListener="#{jornadaAcademicaBean.limpiar()}"  value="Nuevo" ></h:commandButton>
                                                    <h:commandButton style="margin-left: 5px" class="btn btn-primary" actionListener="#{jornadaAcademicaBean.ingresarAgendas()}"  value="Guardar"></h:commandButton>
                                                </center>
                                                </td>
                                            </tr>
                                        </table>
                                        <br></br>
                                        <p:outputLabel value="#{jornadaAcademicaBean.mensajeError}" escape="false"></p:outputLabel>
                                        <p:outputLabel value="#{jornadaAcademicaBean.mensajeBueno}" escape="false"></p:outputLabel>
                                        <br></br>
                                    </div>
                                </div>
                            </div>

                    
                        </div>
                        <div class="col-lg-12 main-chart">
                             
                            <h:dataTable  id="datausu" class="table table-striped table-advance table-hover" value="#{jornadaAcademicaBean.listaSolicitud}" var="list" >
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Id Solicitud"/>
                                </f:facet>
                                <h:outputText value="#{list.id_Encabezado}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Fecha de la Solicitud"/>
                                </f:facet>
                                <h:outputText value="#{list.fechaInicio}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Fecha de Respuesta"/>
                                </f:facet>
                                <h:outputText value="#{list.fechaFinal == null?'Solicitud aún no procesada':list.fechaFinal}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Coordinador a Cargo"/>
                                </f:facet>
                                <h:outputText value="#{list.coordinador.nombreCompleto == ''? '':list.coordinador.nombreCompleto}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Estado Solicitud"/>
                                </f:facet>
                                <h:outputText value="#{list.estado.nombre}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value=""/>
                                </f:facet>
                                <div id="btnEstAc">
                                    <h:commandButton disabled="#{list.log != 1}"  actionListener="#{jornadaAcademicaBean.cancelar(list.id_Encabezado)}" class="btn btn-danger" value="Cancelar"></h:commandButton>
                                       
                                   
                                </div>
                            </h:column>
                        </h:dataTable> 
                  </div>
                        
                        
                    </section>
                    
                </section>
                <footer class="site-footer">
                    <div class="text-center">
                        &copy;2018 UTN Todos los Derechos Reservados.
                        <a href="JornadaAcademica.xhtml#" class="go-top">
                            <i class="fa fa-angle-up"></i>
                        </a>
                    </div>
                </footer>
            </h:form>
        </section>

        <!-- js placed at the end of the document so the pages load faster -->


        <script src="RecursoMante/js/bootstrap.min.js"></script>
        <script class="include" type="text/javascript" src="RecursoMante/js/jquery.dcjqaccordion.2.7.js"></script>
        <script src="RecursoMante/js/jquery.scrollTo.min.js"></script>
        <script src="RecursoMante/js/jquery.nicescroll.js" type="text/javascript"></script>
        <script src="RecursoMante/js/jquery.sparkline.js"></script>


        <!--common script for all pages-->
        <script src="RecursoMante/js/common-scripts.js"></script>

        <script type="text/javascript" src="RecursoMante/js/gritter/js/jquery.gritter.js"></script>
        <script type="text/javascript" src="RecursoMante/js/gritter-conf.js"></script>

        <!--script for this page-->
        <script src="RecursoMante/js/sparkline-chart.js"></script>

    </h:body>
</html>


