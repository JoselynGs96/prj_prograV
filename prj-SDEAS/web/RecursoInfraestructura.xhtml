<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
    <title>Recurso Infraestructura</title>
    <meta charset="utf-8"/>
    <!-- Bootstrap core CSS -->
    <link href="RecursoMante/css/bootstrap.css" rel="stylesheet"/>
    <!--external css-->
    <link href="RecursoMante/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="RecursoMante/css/zabuto_calendar.css"/>
    <link rel="stylesheet" type="text/css" href="RecursoMante/js/gritter/css/jquery.gritter.css" />
    <link rel="stylesheet" type="text/css" href="RecursoMante/lineicons/style.css"/>    
    
    <!-- Custom styles for this template -->
    <link href="RecursoMante/css/style.css" rel="stylesheet"/>
    <link href="RecursoMante/css/style-responsive.css" rel="stylesheet"/>

    <script src="RecursoMante/js/chart-master/Chart.js"></script>
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
                        <script type="application/javascript">
                                
                                  function tipoRecurso(){
                                      var cod = document.getElementById("myForm:ti").value;
                                   
                                        if(cod==1){
                                            $("#ct").hide();
                                            $("#cp").hide();
                                        }else{
                                            if(cod==2){
                                                $("#ct").hide();
                                                $("#cp").show();
                                            }else{
                                                $("#cp").hide();
                                                $("#ct").show();
                                            }
                                        }
                                  }
                                
                                 function abrirModal(){
                                     $('#modalVer').modal('show');
                                 }
                                  $(document).ready(tipoRecurso);
                        </script>
    
    </h:head>
    <h:body>
  <section id="container">
      <h:form id="myForm">
      <!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
      <!--header start-->
      <header class="header black-bg">
            <div class="sidebar-toggle-box">
                <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Menú"></div>
            </div>
            <div class="dropdown pull-right logout" style="margin-top: 20px">
                <a class="dropdown-toggle top-menu" data-toggle="dropdown" href="#"><h:outputText value="#{recursoInfraestructuraBean.usuario.nombreCompleto}"></h:outputText>
                <span class="caret"></span></a>
            	<ul class="nav dropdown-menu">
                    <li><a href="faces/ActualizarUsuario.xhtml">Actualizar Datos</a></li>
                    <li><a href="faces/InicioSesion.xhtml">Cerrar Sesión</a></li>
            	</ul>
            </div>
      </header>
      <!--header end-->
      
      <!-- **********************************************************************************************************************************************************
      MAIN SIDEBAR MENU
      *********************************************************************************************************************************************************** -->
      <!--sidebar start-->
      <aside>
          <div id="sidebar"  class="nav-collapse ">
              <!-- sidebar menu start-->
              <ul class="sidebar-menu">
              
                  <p class="centered"><a href="faces/Mantenimiento.xhtml"><img src="Recursos/images/logo.png" alt=""/></a></p>
              	  <h5 class="centered">Panel de Administración</h5>
              	  	
                  <li class="mt">
                      <a class="active" href="faces/Mantenimiento.xhtml">
                          <i class="fa fa-dashboard"></i>
                          <span>Inicio</span>
                      </a>
                  </li>

                  <li class="sub-menu" >
                      <a href="faces/CatalogoPrograma.xhtml" >
                          <i class="fa fa-desktop"></i>
                          <span>Catálogo Programas</span>
                      </a>
                  </li>

                  <li class="sub-menu">
                      <a href="faces/CursoPorPrograma.xhtml" >
                          <i class="fa fa-cogs"></i>
                          <span>Cursos por programa</span>
                      </a>
                  </li>
                  <li class="sub-menu">
                      <a href="faces/RecursoInfraestructura.xhtml" >
                          <i class="fa fa-book"></i>
                          <span>Recursos de Infraestructura</span>
                      </a>
                  </li>
                  <li class="sub-menu">
                      <a href="faces/UsuarioPorPrograma.xhtml">
                          <i class="fa fa-tasks"></i>
                          <span>Usuarios por Programa</span>
                      </a>
                  </li>
                  <li class="sub-menu">
                      <a href="faces/JornadaAcademica.xhtml">
                          <i class="fa fa-th"></i>
                          <span>Jornadas Académicas</span>
                      </a>
                  </li>
                  <li class="sub-menu">
                      <a href="#">
                          <i class=" fa fa-bar-chart-o"></i>
                          <span>Reportes</span>
                      </a>
                  </li>

              </ul>
              <!-- sidebar menu end-->
          </div>
      </aside>
      <!--sidebar end-->
      
      <!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
      
      <p:sidebar widgetVar="sidebar2" position="right" baseZIndex="10000" style="width: 300px" >
        <p:scrollPanel mode="native" style="width:100%;height:100%; border:0px; margin-bottom: 50px" > 
        <h1 style="font-weight:normal">Ayuda</h1>          
        <br></br>
        <strong>¿Desea agregar un nuevo Recurso? </strong>
        <br></br>
        Llene los datos Nombre, Descripción, seleccione el tipo de recurso e indique la capacidad ó cantidad del mismo en la ficha "Información del Programa".
        Luego, clic sobre el <br></br> botón &#8594;
        <img src="RecursoMante/img/btnGuardar.PNG" width="60px" height="30px" alt=""/>
        <br></br>
        <br></br>
        <strong>¿Desea limpiar los campos de la ficha "Información del Recurso"? </strong>
        <br></br>
        Clic sobre el botón &#8594;
        <img src="RecursoMante/img/btnNuevo.PNG" width="60px" height="30px" alt=""/>
        <br></br>
        <br></br>
        <strong> ¿Desea editar un registro? </strong>
        <br></br>
        Seleccione con el botón &#8594; 
        <img src="RecursoMante/img/editar.png" width="30px" height="30px" alt=""/> el registro que desea editar.
        <br></br><br></br> Modifique los datos en la ficha "Información del Programa".<br></br> Luego, guarde los cambios 
        <br></br> con el botón &#8594; <img src="RecursoMante/img/btnGuardar.PNG" width="60px" height="30px" alt=""/>
        <br></br>
        <br></br>
        <br></br>
        <strong> ¿Desea ver más detalles de un registro? </strong>
        <br></br>
        Clic sobre el botón &#8594;
        <img src="RecursoMante/img/btnVer.PNG" width="35px" height="30px" alt=""/>
        <br></br>
        <br></br>
        <strong>¿Desea buscar un registro en específico? </strong>
        <br></br>
        Llene el campo "Buscar..." con el dato de referencia y luego, clic sobre <br></br>
         el botón  &#8594;
         <img src="RecursoMante/img/btnBuscar.PNG"  width="35px" height="30px" style="border: 1px solid darkgrey"  alt=""/>
        <br></br>
        <br></br>
        <div style="margin-bottom: 30px; height: 50px"></div>
        </p:scrollPanel>
     </p:sidebar>
     
      <div id="modalVer" class="modal fade" role="dialog">
          <div class="modal-dialog" style="width: 400px">
           <div class="modal-content">
               <div class="modal-header" style="background: #222533">
                   <button type="button" class="close" style="color: white" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Detalles del Recurso</h4>
             </div>
             <div class="modal-body">
                 <center>
                 <h:outputLabel style="font-weight: bold; color:#222533 " value="Identificador:&nbsp;"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.recurso.id}"></h:outputLabel>
                 <br></br>
                 <h:outputLabel style="font-weight: bold; color:#222533" value="Nombre Recurso:&nbsp;"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.recurso.nombre}"></h:outputLabel>
                 <br></br>
                 <h:outputLabel style="font-weight: bold; color:#222533" value="Programa al que pertenece:&nbsp;"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.recurso.programa.nombre}"></h:outputLabel>
                 <br></br>
                 <h:outputLabel style="font-weight: bold; color:#222533" value="Tipo Recurso:&nbsp;"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.recurso.tipoRecurso.nombre}"></h:outputLabel>
                 <br></br>
                 <h:outputLabel style="font-weight: bold; color:#222533" value="#{recursoInfraestructuraBean.nombreTipoInfra}"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.dscTipoInfra}"></h:outputLabel>
                 <br></br>
                 <h:outputLabel style="font-weight: bold; color:#222533" value="#{recursoInfraestructuraBean.dscTipo}"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.dscNum}"></h:outputLabel>
                 <br></br>
                 <h:outputLabel style="font-weight: bold; color:#222533" value="Descripción:&nbsp;"></h:outputLabel>
                 <h:outputLabel style="margin-left: 10px" value="#{recursoInfraestructuraBean.recurso.descripcion}"></h:outputLabel>
                 </center>
             </div>
               <div class="modal-footer" style="border-top-color:#ffcb0f; ">
                 <button type="button"   class="btn c" style="background-color: #222533; color: white" data-dismiss="modal">Cerrar</button>
             </div>
           </div>

         </div>
     </div>
      
      
      
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <h3><i class="fa fa-angle-right"></i> Recursos de Infraestructura</h3>
              <div class="row mtbox" style="margin-top: 0px">
                    <div class="col-lg-4 main-chart">
                        <div class="panel panel-default">
                            <div class="panel-heading" >
                                    <span>Información del Recurso</span>
                                    <a onclick="PF('sidebar2').show()" href="#" title="Ayuda" style="margin-top: 0px; margin-bottom: 5px" ><img align="right"  width="20px" height="20px" src="RecursoMante/img/ayuda.png" alt=""/></a>
                            </div>
                            <div class="panel-body">
                            <h:inputHidden value="#{recursoInfraestructuraBean.id}"></h:inputHidden>
                            <p:outputLabel>Nombre del Recurso</p:outputLabel><p:inputText  class="form-control"  style="width: 90%" value="#{recursoInfraestructuraBean.nombre}" ></p:inputText>
                            
                            <br></br>
                            
                            <p:outputLabel>Programa al que pertenece:</p:outputLabel>
                            <h:selectOneMenu class="form-control"  style="width: 90%" value="#{recursoInfraestructuraBean.programa}" >
                                <f:selectItems var="cur" value="#{recursoInfraestructuraBean.listaPrograma}" itemLabel="#{cur.nombre}" itemValue="#{cur.id}"></f:selectItems>
                            </h:selectOneMenu>
                            <br></br>
                            <p:outputLabel>Tipo de Recurso:</p:outputLabel>
                            <h:selectOneMenu  id="ti" class="form-control" onchange="submit()" style="width: 90%" value="#{recursoInfraestructuraBean.tipoRecurso}" >
                             
                                <f:selectItems   var="tip" value="#{recursoInfraestructuraBean.listaTipoRecurso}" itemLabel="#{tip.nombre}" itemValue="#{tip.id}"></f:selectItems>
                            </h:selectOneMenu>
                            <br></br>
                            <div id="cp">
                                <p:outputLabel>Capacidad:</p:outputLabel>
                                <br></br>
                                <p:spinner id="cap"  value="#{recursoInfraestructuraBean.capacidad}" min="0" />
                                <br></br>
                                <br></br>
                                <p:outputLabel>Tipo de Infraestructura:</p:outputLabel>
                                <br></br>
                                <h:selectOneMenu class="form-control"   style="width: 90%;" value="#{recursoInfraestructuraBean.tipoInfra}"  >
                                    <f:selectItems  value="#{recursoInfraestructuraBean.EnumTipoInfra()}"></f:selectItems>
                                </h:selectOneMenu> 
                            </div>
                            <div id="ct">
                                <p:outputLabel>Cantidad:</p:outputLabel>
                                <br></br>
                                <p:spinner  id="cat" value="#{recursoInfraestructuraBean.cantidad}" min="0" />
                                <br></br>
                            </div>
                            
                            <br></br>
                            
                            <p:outputLabel>Descripción:</p:outputLabel>
                            <br></br>
                            <p:inputTextarea  class="form-control "  style="width: 90%" value="#{recursoInfraestructuraBean.descripcion}"></p:inputTextarea>
                            
                            <br></br>
                            <p:outputLabel>Estado:</p:outputLabel>
                            <p:selectOneRadio layout="pageDirection" value="#{recursoInfraestructuraBean.estado}" >
                                <f:selectItem itemValue="Activo" itemLabel=" &nbsp;Activo" ></f:selectItem>
                                <f:selectItem itemValue="Inactivo" itemLabel=" &nbsp;Inactivo"></f:selectItem>
                            </p:selectOneRadio>
                            <br></br>
                                <p:outputLabel value="#{recursoInfraestructuraBean.mensajeError}" escape="false"></p:outputLabel>
                                <p:outputLabel value="#{recursoInfraestructuraBean.mensajeGuardar}" escape="false"></p:outputLabel>
                            <br></br>
                            <div>
                                <h:commandButton class="btn btn-primary" actionListener="#{recursoInfraestructuraBean.nuevo()}"  value="Nuevo" ></h:commandButton>
                                <h:commandButton style="margin-left: 5px" class="btn btn-primary" actionListener="#{recursoInfraestructuraBean.insertarRecurso()}"  value="Guardar"></h:commandButton>
                            </div>
                            
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8 main-chart">
                        <div>
                            <p:inputText placeholder="Buscar..."   class="form-control" value="#{recursoInfraestructuraBean.buscarFiltro}"   style="width: 200px; float: left;"></p:inputText>
                            <h:commandButton actionListener="#{recursoInfraestructuraBean.buscar()}" class="btn btn-default"  image="RecursoMante/img/buscar.png"  style="height:34px; margin-left: 5px; margin-right: 10px; display: inline-block;"></h:commandButton>
                        </div>
                        <br></br>
                        <p:outputLabel escape="false" style="width: 100%" value="#{recursoInfraestructuraBean.mensajeFiltro}" ></p:outputLabel>
                        <h:dataTable class="table table-striped table-advance table-hover" value="#{recursoInfraestructuraBean.listaTablaRecurso}" var="infra">
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Identificador"/>
                                        </f:facet>
                                        <h:outputText value="#{infra.id}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Nombre del Recurso"/>
                                        </f:facet>
                                        <h:outputText value="#{infra.nombre}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Tipo de Recurso"/>
                                        </f:facet>
                                        <h:outputText value="#{infra.tipoRecurso.nombre}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Estado"/>
                                        </f:facet>
                                        <h:outputText value="#{infra.estado}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value=""/>
                                        </f:facet>
                                        <h:commandButton actionListener="#{recursoInfraestructuraBean.verMas(infra.id)}"  alt="Ver más" title="Ver más" class="btn btn-default btn-xs" style="width: 40px; height: 30px" image="RecursoMante/img/ver.png"></h:commandButton>
                                        <h:commandButton actionListener="#{recursoInfraestructuraBean.editar(infra.id)}" alt="Editar" title="Editar" class="btn btn-default btn-xs" style="width: 40px; margin-left: 10px; height: 30px" image="RecursoMante/img/editar.png"> </h:commandButton>
                                    </h:column>
                                </h:dataTable>
                    </div>
              </div>
          </section>
      </section>
      <!--main content end-->
      
      
      
      <!--footer start-->
      <footer class="site-footer">
          <div class="text-center">
              &copy;2018 UTN Todos los Derechos Reservados.
              <a href="RecursoInfraestructura.xhtml#" class="go-top">
                  <i class="fa fa-angle-up"></i>
              </a>
          </div>
      </footer>
      <!--footer end-->
      </h:form>
  </section>

    <!-- js placed at the end of the document so the pages load faster -->
    <script src="RecursoMante/js/jquery.js"></script>
    <script src="RecursoMante/js/jquery-1.8.3.min.js"></script>
    <script src="RecursoMante/js/bootstrap.min.js"></script>
    <script class="include" type="text/javascript" src="RecursoMante/js/jquery.dcjqaccordion.2.7.js"></script>
    <script src="RecursoMante/js/jquery.scrollTo.min.js"></script>
    <script src="RecursoMante/js/jquery.nicescroll.js" type="text/javascript"></script>
    <script src="RecursoMante/js/jquery.sparkline.js"></script>


    <!--common script for all pages-->
    <script src="RecursoMante/js/common-scripts.js"></script>
    
    <script type="text/javascript" src="RecursoMante/js/gritter/js/jquery.gritter.js"></script>
    <script type="text/javascript" src="RecursoMante/js/gritter-conf.js"></script>

    <!--script for this page-->
    <script src="RecursoMante/js/sparkline-chart.js"></script>    
	<script src="RecursoMante/js/zabuto_calendar.js"></script>	
	
	
	<script type="application/javascript">
        $(document).ready(function () {
            $("#date-popover").popover({html: true, trigger: "manual"});
            $("#date-popover").hide();
            $("#date-popover").click(function (e) {
                $(this).hide();
            });
        
            $("#my-calendar").zabuto_calendar({
                action: function () {
                    return myDateFunction(this.id, false);
                },
                action_nav: function () {
                    return myNavFunction(this.id);
                },
                ajax: {
                    url: "show_data.php?action=1",
                    modal: true
                },
                legend: [
                    {type: "text", label: "Special event", badge: "00"},
                    {type: "block", label: "Regular event", }
                ]
            });
        });
        
        
        function myNavFunction(id) {
            $("#date-popover").hide();
            var nav = $("#" + id).data("navigation");
            var to = $("#" + id).data("to");
            console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
        }
    </script>
    </h:body>
</html>






